<view class="add-to-cart-popup {{show ? 'show' : ''}}" catchtap="onClose">
  <view class="popup-content" catchtap="stopPropagation">
    <view class="close-btn" catchtap="onClose">×</view>
    <view class="product-info">
      <image class="product-image" src="{{product.image}}" mode="aspectFill"></image>
      <view class="product-details">
        <view class="product-name">{{product.name}}</view>
        <view class="product-price">¥{{product.price}}</view>
      </view>
    </view>
    <view class="sku-selection" wx:if="{{product.skus && product.skus.length > 0}}">
      <view class="sku-title">规格</view>
      <view class="sku-options">
        <view 
          wx:for="{{product.skus}}" 
          wx:key="id" 
          class="sku-option {{item.id === selectedSku.id ? 'selected' : ''}}"
          data-sku="{{item}}"
          catchtap="onSkuSelect"
        >
          {{item.name}}
        </view>
      </view>
    </view>
    <view class="quantity-selector">
      <view class="quantity-title">数量</view>
      <view class="quantity-control">
        <view class="quantity-btn" catchtap="onDecrease">-</view>
        <input class="quantity-input" type="number" value="{{quantity}}" bindinput="onQuantityInput" />
        <view class="quantity-btn" catchtap="onIncrease">+</view>
      </view>
    </view>
    <button class="confirm-btn" catchtap="onConfirm">{{actionText}}</button>
  </view>
</view>