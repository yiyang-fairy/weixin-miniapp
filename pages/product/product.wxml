<view class="product-container">
  <swiper class="product-image" indicator-dots="{{true}}" autoplay="{{true}}" interval="{{3000}}" duration="{{500}}">
    <swiper-item>
      <image src="{{product.image}}" mode="aspectFit" class="detail-image"></image>
    </swiper-item>
    <!-- 可以添加更多swiper-item来展示多张商品图片 -->
  </swiper>
  
  <view class="product-info">
    <view class="price">¥ {{product.price}}</view>
    <view class="name">{{product.name}}</view>
  </view>
  
  <view class="tab-container">
    <view class="tab-item {{activeTab === 'intro' ? 'active' : ''}}" bindtap="switchTab" data-tab="intro">商品简介</view>
    <view class="tab-item {{activeTab === 'detail' ? 'active' : ''}}" bindtap="switchTab" data-tab="detail">商品详情</view>
    <view class="tab-item {{activeTab === 'comments' ? 'active' : ''}}" bindtap="switchTab" data-tab="comments">商品评价</view>
  </view>
  
  <view class="tab-content">
    <view wx:if="{{activeTab === 'intro'}}" class="intro">
      {{product.description}}
    </view>
    <view wx:if="{{activeTab === 'detail'}}" class="detail">
      <!-- 这里可以添加更详细的商品信息 -->
    </view>
    <view wx:if="{{activeTab === 'comments'}}" class="comments">
      <!-- 这里可以添加商品评价 -->
    </view>
  </view>
  
  <view class="bottom-bar">
    <view class="cart-btn" bindtap="addToCart">加入购物车</view>
    <view class="buy-btn" bindtap="buyNow">立即购买</view>
  </view>
  
  <!-- 使用新的加入购物车组件 -->
  <add-to-cart
    show="{{showPopup}}"
    product="{{product}}"
    actionText="{{actionText}}"
    bind:close="closePopup"
    bind:confirm="confirmAction"
  ></add-to-cart>
  
  <!-- 修改底部按钮 -->
  <view class="footer">
    <button class="cart-btn" bindtap="showPopup" data-action="addToCart">加入购物车</button>
    <button class="buy-btn" bindtap="showPopup" data-action="buyNow">立即购买</button>
  </view>
</view>
